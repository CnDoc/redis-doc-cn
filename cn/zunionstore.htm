<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <link href="styles.css-1333128600.css" tppabs="http://redis.io/styles.css?1333128600" rel='stylesheet' type='text/css' />
    <link href='/images/favicon.png' rel='shortcut icon' />
    <link href='/opensearch.xml' rel='search' title='Look up a Redis command' type='application/opensearchdescription+xml' />
    <script src="jquery.min.js" tppabs="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <script async='async' defer='defer' src="app.js-1375789679" tppabs="http://redis.io/app.js?1375789679"></script>
    <meta content='width=device-width, minimum-scale=1.0, maximum-scale=1.0' name='viewport' />
    <title>
      ZUNIONSTORE â€“ Redis
    </title>
    <script type='text/javascript'>
      //<![CDATA[
         var _gaq = _gaq || [];
         _gaq.push(['_setAccount', 'UA-20243082-1']);
         _gaq.push(['_trackPageview']);
        
         (function() {
           var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
           ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
           var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
         })();
      //]]>
    </script>
  </head>
  <body class=''>
    <header>
      <div class='container'>
        <a href="index.htm" tppabs="http://redis.io/">
          <img alt='Redis' height='30' src="redis.png" tppabs="http://redis.io/images/redis.png" width='93' />
        </a>
        <nav>
          <a href="commands.htm" tppabs="http://redis.io/commands">Commands</a>
          <a href="clients.htm" tppabs="http://redis.io/clients">Clients</a>
          <a href="documentation.htm" tppabs="http://redis.io/documentation">Documentation</a>
          <a href="community.htm" tppabs="http://redis.io/community">Community</a>
          <a href="download.htm" tppabs="http://redis.io/download">Download</a>
          <a href="javascript:if(confirm('https://github.com/antirez/redis/issues  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/antirez/redis/issues'" tppabs="https://github.com/antirez/redis/issues">Issues</a>
          <a href="support.htm" tppabs="http://redis.io/support">Support</a>
          <a href="license.htm" tppabs="http://redis.io/topics/license">License</a>
        </nav>
      </div>
    </header>
    <div class='text'>
      <h1 class='command'>
        <span class='name'>ZUNIONSTORE</span>
        <span class='arg'>destination</span>
        <span class='arg'>numkeys</span>
        <span class='arg'>key [key ...]</span>
        <span class='arg'>[WEIGHTS weight [weight ...]]</span>
        <span class='arg'>[AGGREGATE SUM|MIN|MAX]</span>
      </h1>
      <article>
        <aside>
          <h2>
            Related commands
          </h2>
          <ul>
            <li>
              <a href="zadd.htm" tppabs="http://redis.io/commands/zadd">
                ZADD
              </a>
            </li>
            <li>
              <a href="zcard.htm" tppabs="http://redis.io/commands/zcard">
                ZCARD
              </a>
            </li>
            <li>
              <a href="zcount.htm" tppabs="http://redis.io/commands/zcount">
                ZCOUNT
              </a>
            </li>
            <li>
              <a href="zincrby.htm" tppabs="http://redis.io/commands/zincrby">
                ZINCRBY
              </a>
            </li>
            <li>
              <a href="zinterstore.htm" tppabs="http://redis.io/commands/zinterstore">
                ZINTERSTORE
              </a>
            </li>
            <li>
              <a href="zlexcount.htm" tppabs="http://redis.io/commands/zlexcount">
                ZLEXCOUNT
              </a>
            </li>
            <li>
              <a href="zrange.htm" tppabs="http://redis.io/commands/zrange">
                ZRANGE
              </a>
            </li>
            <li>
              <a href="zrangebylex.htm" tppabs="http://redis.io/commands/zrangebylex">
                ZRANGEBYLEX
              </a>
            </li>
            <li>
              <a href="zrangebyscore.htm" tppabs="http://redis.io/commands/zrangebyscore">
                ZRANGEBYSCORE
              </a>
            </li>
            <li>
              <a href="zrank.htm" tppabs="http://redis.io/commands/zrank">
                ZRANK
              </a>
            </li>
            <li>
              <a href="zrem.htm" tppabs="http://redis.io/commands/zrem">
                ZREM
              </a>
            </li>
            <li>
              <a href="zremrangebylex.htm" tppabs="http://redis.io/commands/zremrangebylex">
                ZREMRANGEBYLEX
              </a>
            </li>
            <li>
              <a href="zremrangebyrank.htm" tppabs="http://redis.io/commands/zremrangebyrank">
                ZREMRANGEBYRANK
              </a>
            </li>
            <li>
              <a href="zremrangebyscore.htm" tppabs="http://redis.io/commands/zremrangebyscore">
                ZREMRANGEBYSCORE
              </a>
            </li>
            <li>
              <a href="zrevrange.htm" tppabs="http://redis.io/commands/zrevrange">
                ZREVRANGE
              </a>
            </li>
            <li>
              <a href="zrevrangebyscore.htm" tppabs="http://redis.io/commands/zrevrangebyscore">
                ZREVRANGEBYSCORE
              </a>
            </li>
            <li>
              <a href="zrevrank.htm" tppabs="http://redis.io/commands/zrevrank">
                ZREVRANK
              </a>
            </li>
            <li>
              <a href="zscan.htm" tppabs="http://redis.io/commands/zscan">
                ZSCAN
              </a>
            </li>
            <li>
              <a href="zscore.htm" tppabs="http://redis.io/commands/zscore">
                ZSCORE
              </a>
            </li>
            <li>
              <a href="zunionstore.htm" tppabs="http://redis.io/commands/zunionstore">
                <strong>ZUNIONSTORE</strong>
              </a>
            </li>
          </ul>
        </aside>
        <div class='metadata'>
          <p><strong>Available since 2.0.0.</strong></p>
          <p><strong>Time complexity:</strong> O(N)+O(M log(M)) with N being the sum of the sizes of the input sorted sets, and M being the number of elements in the resulting sorted set.</p>
        </div>
        <p>Computes the union of <code>numkeys</code> sorted sets given by the specified keys, and
        stores the result in <code>destination</code>.
        It is mandatory to provide the number of input keys (<code>numkeys</code>) before passing
        the input keys and the other (optional) arguments.</p>
        
        <p>By default, the resulting score of an element is the sum of its scores in the
        sorted sets where it exists.</p>
        
        <p>Using the <code>WEIGHTS</code> option, it is possible to specify a multiplication factor
        for each input sorted set.
        This means that the score of every element in every input sorted set is
        multiplied by this factor before being passed to the aggregation function.
        When <code>WEIGHTS</code> is not given, the multiplication factors default to <code>1</code>.</p>
        
        <p>With the <code>AGGREGATE</code> option, it is possible to specify how the results of the
        union are aggregated.
        This option defaults to <code>SUM</code>, where the score of an element is summed across
        the inputs where it exists.
        When this option is set to either <code>MIN</code> or <code>MAX</code>, the resulting set will contain
        the minimum or maximum score of an element across the inputs where it exists.</p>
        
        <p>If <code>destination</code> already exists, it is overwritten.</p>
        
        <h2>Return value</h2>
        
        <p><a href="protocol.htm#integer-reply" tppabs="http://redis.io/topics/protocol#integer-reply">Integer reply</a>: the number of elements in the resulting sorted set at
        <code>destination</code>.</p>
        
        <h2>Examples</h2>
        
        <div class='example' data-session='a27f4c42df8ae79878d016ff795a55d5'>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZADD zset1 1 &quot;one&quot;</span>
          <pre>(integer) 1</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZADD zset1 2 &quot;two&quot;</span>
          <pre>(integer) 1</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZADD zset2 1 &quot;one&quot;</span>
          <pre>(integer) 1</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZADD zset2 2 &quot;two&quot;</span>
          <pre>(integer) 1</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZADD zset2 3 &quot;three&quot;</span>
          <pre>(integer) 1</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZUNIONSTORE out 2 zset1 zset2 WEIGHTS 2 3</span>
          <pre>(integer) 3</pre>
          <span class='monospace prompt'>redis&gt;&nbsp;</span>
          <span class='monospace command'>ZRANGE out 0 -1 WITHSCORES</span>
          <pre>1) "one"&#x000A;2) "5"&#x000A;3) "three"&#x000A;4) "9"&#x000A;5) "two"&#x000A;6) "10"</pre><form>
            <span class='monospace prompt'>redis&gt;&nbsp;</span>
            <input autocomplete='off' name='command' spellcheck='false' type='text' />
          </form></div>
      </article>
    </div>
    <div class='text' id='comments'>
      <div id='disqus_thread'></div>
      <script type='text/javascript'>
        //<![CDATA[
          var disqus_shortname = 'redisio';
          
          // The following are highly recommended additional parameters. Remove the slashes in front to use.
          var disqus_identifier = 'command_zunionstore';
          var disqus_url = 'zunionstore.htm'/*tpa=http://redis.io/commands/zunionstore*/;
          
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        //]]>
      </script>
      <a class='dsq-brlink' href="javascript:if(confirm('http://disqus.com/  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://disqus.com/'" tppabs="http://disqus.com/">
        Comments powered by
        <span class='logo-disqus'>
          Disqus
        </span>
      </a>
    </div>
    <footer>
      <p>
        This website is
        <a href="javascript:if(confirm('https://github.com/antirez/redis-io  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/antirez/redis-io'" tppabs="https://github.com/antirez/redis-io">open source software</a>
        developed by <a href="javascript:if(confirm('http://citrusbyte.com/  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://citrusbyte.com/'" tppabs="http://citrusbyte.com/">Citrusbyte</a>.
        <br> The Redis logo was designed by <a href="javascript:if(confirm('http://www.carlosprioglio.com/  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.carlosprioglio.com/'" tppabs="http://www.carlosprioglio.com/">Carlos Prioglio</a>. See more <a href="sponsors.htm" tppabs="http://redis.io/topics/sponsors">credits</a>.
      </p>
      <div class='sponsor'>
        Sponsored by
        <a href="javascript:if(confirm('http://www.gopivotal.com/products/redis  \n\n¸ÃÎÄ¼þÎÞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·þÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.gopivotal.com/products/redis'" tppabs="http://www.gopivotal.com/products/redis">
          <img alt='Redis Support' height='25' src="pivotal.png" tppabs="http://redis.io/images/pivotal.png" title='Redis Sponsor' width='99' />
        </a>
      </div>
    </footer>
  </body>
</html>
<script type="text/javascript">
lloogg_clientid = "20bb9c026e";
</script>
<script type="text/javascript" src="l.js-c=20bb9c026e" tppabs="http://demo.lloogg.com/l.js?c=20bb9c026e">
</script>
