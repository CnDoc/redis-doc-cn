<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <link href='../styles.css%3F1333128600.css' rel='stylesheet' type='text/css' />
    <link href='../images/favicon.png' rel='shortcut icon' />
    <link href='../opensearch.xml' rel='search' title='Look up a Redis command' type='application/opensearchdescription+xml' />
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script>
    <script async='async' defer='defer' src='../app.js'></script>
    <meta content='width=device-width, minimum-scale=1.0, maximum-scale=1.0' name='viewport' />
    <title>
      PUBSUB – Redis
    </title>
    
  </head>
  <body class=''><style type="text/css">#modify_div {position: fixed;right: 0px;top: 60px;	background-color: #000000;	height: 30px;width: 100px;border-top-width: 2px;border-right-width: 2px;border-bottom-width: 2px;border-left-width: 2px;border-top-style: dashed;border-right-style: none;border-bottom-style: dashed;border-left-style: dashed;border-top-color: #333333;border-right-color: #333333;border-bottom-color: #333333;border-left-color: #333333;}#modify {display: block;position: fixed;right: 23px;top: 70px;color: #FFFFFF;text-decoration: none;font-size: 12px;font-weight: bold;}#modify:hover {text-decoration: underline;}</style><div id="modify_div"></div><a href="https://github.com/jialechan/redis-doc-cn/edit/gh-pages/cn/commands/pubsub.html" id="modify" target="_blank">修改本页</a><script>$('#modify_div').css('opacity', '0.6');	</script>
    <header>
      <div class='container'>
        <a href='../index.html'>
          <img alt='Redis' height='30' src='../images/redis.png' width='93' />
        </a>
        <nav>
          <a href='../commands.html'>Commands</a>
          <a href='../clients.html'>Clients</a>
          <a href='../documentation.html'>Documentation</a>
          <a href='../community.html'>Community</a>
          <a href='../download.html'>Download</a>
          <a href='https://github.com/antirez/redis/issues'>Issues</a>
          <a href='../support.html'>Support</a>
          <a href='../topics/license.html'>License</a>
        </nav>
      </div>
    </header>
    <div class='text'>
      <h1 class='command'>
        <span class='name'>PUBSUB</span>
        <span class='arg'>subcommand</span>
        <span class='arg'>[argument [argument ...]]</span>
      </h1>
      <article>
        <aside>
          <h2>Related topics</h2>
          <ul>
            <li>
              <a href='../topics/pubsub.html'>Pub/Sub</a>
            </li>
          </ul>
          <h2>
            Related commands
          </h2>
          <ul>
            <li>
              <a href='psubscribe.html'>
                PSUBSCRIBE
              </a>
            </li>
            <li>
              <a href='publish.html'>
                PUBLISH
              </a>
            </li>
            <li>
              <a href='pubsub.html'>
                <strong>PUBSUB</strong>
              </a>
            </li>
            <li>
              <a href='punsubscribe.html'>
                PUNSUBSCRIBE
              </a>
            </li>
            <li>
              <a href='subscribe.html'>
                SUBSCRIBE
              </a>
            </li>
            <li>
              <a href='unsubscribe.html'>
                UNSUBSCRIBE
              </a>
            </li>
          </ul>
        </aside>
        <div class='metadata'>
          <p><strong>Available since 2.8.0.</strong></p>
          <p><strong>Time complexity:</strong> O(N) for the CHANNELS subcommand, where N is the number of active channels, and assuming constant time pattern matching (relatively short channels and patterns). O(N) for the NUMSUB subcommand, where N is the number of requested channels. O(1) for the NUMPAT subcommand.</p>
        </div>
        <p>The PUBSUB command is an introspection command that allows to inspect the
        state of the Pub/Sub subsystem. It is composed of subcommands that are
        documented separately. The general form is:</p>
        
        <pre><code>PUBSUB &lt;subcommand&gt; ... args ...&#x000A;</code></pre>
        
        <h1>PUBSUB CHANNELS [pattern]</h1>
        
        <p>Lists the currently <em>active channels</em>. An active channel is a Pub/Sub channel
        with one ore more subscribers (not including clients subscribed to patterns).</p>
        
        <p>If no <code>pattern</code> is specified, all the channels are listed, otherwise if pattern
        is specified only channels matching the specified glob-style pattern are
        listed.</p>
        
        <h2>Return value</h2>
        
        <p><a href="../topics/protocol.html#array-reply">Array reply</a>: a list of active channels, optionally matching the specified pattern.</p>
        
        <h1>PUBSUB NUMSUB [channel-1 ... channel-N]</h1>
        
        <p>Returns the number of subscribers (not counting clients subscribed to patterns)
        for the specified channels.</p>
        
        <h2>Return value</h2>
        
        <p><a href="../topics/protocol.html#array-reply">Array reply</a>: a list of channels and number of subscribers for every channel. The format is channel, count, channel, count, ..., so the list is flat.
        The order in which the channels are listed is the same as the order of the
        channels specified in the command call.</p>
        
        <p>Note that it is valid to call this command without channels. In this case it
        will just return an empty list.</p>
        
        <h1>PUBSUB NUMPAT</h1>
        
        <p>Returns the number of subscriptions to patterns (that are performed using the
        <a href="psubscribe.html">PSUBSCRIBE</a> command). Note that this is not just the count of clients subscribed
        to patterns but the total number of patterns all the clients are subscribed to.</p>
        
        <h2>Return value</h2>
        
        <p><a href="../topics/protocol.html#integer-reply">Integer reply</a>: the number of patterns all the clients are subscribed to.</p>
      </article>
    </div>
    <div class='text' id='comments'>
      <div id='disqus_thread'></div>
      <script type='text/javascript'>
        //<![CDATA[
          var disqus_shortname = 'redisio';
          
          // The following are highly recommended additional parameters. Remove the slashes in front to use.
          var disqus_identifier = 'command_pubsub';
          var disqus_url = 'http://redis.io/commands/pubsub';
          
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        //]]>
      </script>
      <a class='dsq-brlink' href='http://disqus.com'>
        Comments powered by
        <span class='logo-disqus'>
          Disqus
        </span>
      </a>
    </div>
    <footer>
      <p>
        This website is
        <a href="https://github.com/antirez/redis-io">open source software</a>
        developed by <a href="http://citrusbyte.com">Citrusbyte</a>.
        <br> The Redis logo was designed by <a href="http://www.carlosprioglio.com/">Carlos Prioglio</a>. See more <a href="../topics/sponsors.html">credits</a>.
      </p>
      <div class='sponsor'>
        Sponsored by
        <a href='http://www.gopivotal.com/products/redis'>
          <img alt='Redis Support' height='25' src='../images/pivotal.png' title='Redis Sponsor' width='99' />
        </a>
      </div>
    </footer>
  </body>
</html>

